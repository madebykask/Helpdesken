using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Newtonsoft.Json;
using DH.Helpdesk.BusinessData.Models.ExtendedCase;
using DH.Helpdesk.Domain.ExtendedCaseEntity;
using System.Text.RegularExpressions;
using System.Data.SqlClient;
using System.Threading;
using DH.Helpdesk.BusinessData.Models.Notifiers;
namespace DH.Helpdesk.TestConsole
{
    class Program
    {
        public string insertString = "";
        static void Main(string[] args)
        {
            string connectionString = "Data Source=DHUTVSQL6;Initial Catalog=Helpdesk-Test;uid=helpdesk-test;Password=helpdesk-test;";
            for (int i = 0; i < 5; i++)
            {
                // Barrier to synchronize the start of the threads
                Barrier barrier = new Barrier(6); 

                // Task to represent the first thread
                Task task1 = Task.Run(() =>
                {
                    barrier.SignalAndWait(); // Signal and wait for the other thread
                    SaveToDatabase(connectionString, "Case " + i, "Description " + i);
                });

                // Task to represent the second thread
                Task task2 = Task.Run(() =>
                {
                    barrier.SignalAndWait(); // Signal and wait for the other thread
                    SaveToDatabase(connectionString, "Case " + i+1, "Description " + i+1);
                });
                Task task3 = Task.Run(() =>
                {
                    barrier.SignalAndWait(); // Signal and wait for the other thread
                    SaveToDatabase(connectionString, "Case " + i+2, "Description " + i+2);
                });

                // Task to represent the second thread
                Task task4 = Task.Run(() =>
                {
                    barrier.SignalAndWait(); // Signal and wait for the other thread
                    SaveToDatabase(connectionString, "Case " + i+3, "Description " + i+3);
                });
                Task task5 = Task.Run(() =>
                {
                    barrier.SignalAndWait(); // Signal and wait for the other thread
                    SaveToDatabase(connectionString, "Case " + i+4, "Description " + i+4);
                });

                // Task to represent the second thread
                Task task6 = Task.Run(() =>
                {
                    barrier.SignalAndWait(); // Signal and wait for the other thread
                    SaveToDatabase(connectionString, "Case " + i+5, "Description " + i+5);
                });
                //Task task7 = Task.Run(() =>
                //{
                //    barrier.SignalAndWait(); // Signal and wait for the other thread
                //    SaveToDatabase(connectionString, "Case " + i, "Description " + i);
                //});
                //Task task8 = Task.Run(() =>
                //{
                //    barrier.SignalAndWait(); // Signal and wait for the other thread
                //    SaveToDatabase(connectionString, "Case " + i, "Description " + i);
                //});
                //Task task9 = Task.Run(() =>
                //{
                //    barrier.SignalAndWait(); // Signal and wait for the other thread
                //    SaveToDatabase(connectionString, "Case " + i, "Description " + i);
                //});
                //Task task10 = Task.Run(() =>
                //{

                //    barrier.SignalAndWait(); // Signal and wait for the other thread
                //    SaveToDatabase(connectionString, "Case " + i, "Description " + i);
                //});

                // Wait for both tasks to complete
                Task.WaitAll(task1, task2, task3, task4, task5, task6);

                Console.WriteLine("All threads have completed.");
            }


            }
        static void SaveToDatabase(string connectionString, string caption, string description)
        {
            Program p = new Program();
            using (SqlConnection connection = new SqlConnection(connectionString))
            {
                connection.Open();
                string query = p.InsertCase(caption, description);
                using (SqlCommand command = new SqlCommand(query, connection))
                {
                    command.ExecuteNonQuery();
                }
            }
            Console.WriteLine("Data saved");
        }

        private string InsertCase(string caption, string description)
        {
            string sql = 
            @"INSERT INTO tblCase (
                    ReportedBy, 
	                Persons_Name, 
	                Persons_EMail, 
	                Persons_CellPhone, 
	                Customer_Id, 
	                Region_Id, 
	                Department_Id, 
                    CaseType_Id, 
	                Caption, Description,
	                ContactBeforeAction, 
	                SMS, 
	                Performer_User_Id, 
	                WorkingGroup_Id, 
	                 RegistrationSource, 
	                 RegTime, 
	                 ChangeTime, 
	                 RegUserName
                )
                VALUES(
                    'katarina.ask1',
                    'Katta Ask',
                    'katarina.ask@dhsolutions.se',
                    '12',
                    1,
                    206,
                    1587,
                    1245,
                    '" + caption + "', '" + description + @"',
                    0,
                    0,
                    498,
                    60,
                    3,
                    GETUTCDATE(),
                    GETUTCDATE(),
                    'katarina.ask@dhsolutions.se'
                ); ";
            return sql;
        }
        //private static string ExtractFirstNameAttribute(string json)
        //{
        //    // Pattern to match the "id" attribute in the first tab
        //    string pattern = "\"tabs\":\\s*\\[\\s*{\\s*\"id\":\\s*\"([^\"]+)\"";

        //    Match match = Regex.Match(json, pattern);
        //    if (match.Success)
        //    {
        //        return match.Groups[1].Value;
        //    }

        //    return null;
        //}
        //string metaData = "{\"id\": 226,\"name\": \"Formulär\",\"localization\": {\"dateFormat\": \"YYYY-MM-DD\",\"decimalSeparator\": \".\"\r\n    },\"dataSources\": [\r\n        {\"type\": \"query\",\"id\": \"getInitiatorByName\",\"parameters\": [\r\n                {\"name\": \"name\",\"field\": \"tabs.Prisforfraganrepresentationforickeprissattadelar0_1.sections.HiddenFields.controls.currentUser\"\r\n                },\r\n                {\"name\": \"customerGuid\",\"field\": \"tabs.Prisforfraganrepresentationforickeprissattadelar0_1.sections.HiddenFields.controls.customerGuid\"\r\n                }\r\n            ]\r\n        },\r\n        {\"type\": \"query\",\"id\": \"OusByDepartmentDs\",\"parameters\": [\r\n                {\"name\": \"CustomerGuid\",\"field\": \"tabs.Prisforfraganrepresentationforickeprissattadelar0_1.sections.HiddenFields.controls.customerGuid\"\r\n                },\r\n                {\"name\": \"Department_Id\",\"field\": \"tabs.Prisforfraganrepresentationforickeprissattadelar0_1.sections.InitiatorInfo.controls.departmentId\"\r\n                }\r\n            ]\r\n        }\r\n    ],\"validatorsMessages\": {\"required\": \"\",\"dateYearFormat\": \"Correct date format (YYYY)\",\"email\": \"Specify valid email\"\r\n    },\"styles\": \"ec-section .col-xs-6:first-child { text-align: left; } ec-section .col-md-6:first-child { text-align: left; } .checkbox label { display: block } .radio label { display: block } \",\"tabs\": [\r\n        {\"id\": \"Prisforfraganrepresentationforickeprissattadelar0_1\",\"name\": \"@Translation.Tab.Prisforfraganrepresentationforickeprissattadelar0_1\",\"columnCount\": \"1\",\"sections\": [\r\n                {\"id\": \"Information1_1\",\"name\": \"@Translation.Section.Information1_1\",\"controls\": [\r\n                        {\"id\": \"1bf8da152_1\",\"type\": \"html\",\"label\": \"@Translation.Control.1bf8da152_1\",\"valueBinding\":\"function(){return @Translation.Control.1bf8da152_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"5b61f75b3_1\",\"type\": \"html\",\"label\": \"@Translation.Control.5b61f75b3_1\",\"valueBinding\":\"function(){return @Translation.Control.5b61f75b3_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"e47696344_1\",\"type\": \"html\",\"label\": \"@Translation.Control.e47696344_1\",\"valueBinding\":\"function(){return @Translation.Control.e47696344_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"f5056c9e5_1\",\"type\": \"html\",\"label\": \"@Translation.Control.f5056c9e5_1\",\"valueBinding\":\"function(){return @Translation.Control.f5056c9e5_1}\",\"dataSource\": []\r\n                        }\r\n                    ]\r\n                },\r\n                {\"id\": \"Kopieringsbartextuppgifterforfragan6_1\",\"name\": \"@Translation.Section.Kopieringsbartextuppgifterforfragan6_1\",\"controls\": [\r\n                        {\"id\": \"Informationforfragan7_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Informationforfragan7_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Dagens8_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Dagens8_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Forratt9_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Forratt9_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Huvudratt10_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Huvudratt10_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Efterratt11_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Efterratt11_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Buff12_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Buff12_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Dryck12_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Dryck12_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Beskrivningovrigaonskemal13_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Beskrivningovrigaonskemal13_1\",\"dataSource\": []\r\n                        }\r\n                    ]\r\n                },\r\n                {\"id\": \"Offert23_1\",\"name\": \"@Translation.Section.Offert23_1\",\"controls\": [\r\n                        {\"id\": \"7d27a41d16_1\",\"type\": \"html\",\"label\": \"@Translation.Control.7d27a41d16_1\",\"valueBinding\":\"function(){return @Translation.Control.7d27a41d16_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Beskrivningvisasskrivskyddadforbestallareediterbarforleverantor24_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Beskrivningvisasskrivskyddadforbestallareediterbarforleverantor24_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Bifogafiler25_1\",\"type\": \"fileupload\",\"label\": \"@Translation.Control.Bifogafiler25_1\",\"addonText\": \"@Translation.Message.Drafilerhit_1\"\r\n                        },\r\n                        {\"id\": \"Kommentar5_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Kommentar5_1\",\"dataSource\": []\r\n                        }\r\n                    ]\r\n                },\r\n                {\"id\": \"Forfragan1_1\",\"name\": \"@Translation.Section.Forfragan1_1\",\"controls\": [\r\n                        {\"id\": \"Rubrik2_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Rubrik2_1\",\"validators\": {\"onSave\": [\r\n                                    {\"type\": \"required\"\r\n                                    }\r\n                                ]\r\n                            },\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Restaurang10_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Restaurang10_1\",\"validators\": {\"onSave\": [\r\n                                    {\"type\": \"required\"\r\n                                    }\r\n                                ]\r\n                            },\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Leveransplats8_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Leveransplats8_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Leveransdatum6_1\",\"type\": \"date\",\"label\": \"@Translation.Control.Leveransdatum6_1\",\"validators\": {\"onSave\": [\r\n                                    {\"type\": \"required\"\r\n                                    }\r\n                                ]\r\n                            },\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Leveranstid7_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Leveranstid7_1\",\"validators\": {\"onSave\": [\r\n                                    {\"type\": \"required\"\r\n                                    }\r\n                                ]\r\n                            },\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"ead7b5ec26_1\",\"type\": \"html\",\"label\": \"@Translation.Control.ead7b5ec26_1\",\"valueBinding\":\"function(){return @Translation.Control.ead7b5ec26_1 }\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Lunchellermiddag279818_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Lunchellermiddag279818_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi19_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi19_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"014de47329_1\",\"type\": \"html\",\"label\": \"@Translation.Control.014de47329_1\",\"valueBinding\":\"function(){return @Translation.Control.014de47329_1 }\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Silltallriksill60g27_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Silltallriksill60g27_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi28_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi28_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Gubbroramedknackebrod31_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Gubbroramedknackebrod31_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi32_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi32_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Laxtartarlax60gpararaka11923_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Laxtartarlax60gpararaka11923_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi24_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi24_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Tunnbrodsrullarmedlaxochpepparrot35_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Tunnbrodsrullarmedlaxochpepparrot35_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi36_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi36_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Roktlaxrosmedpepparrotsgraddeparagbrod37_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Roktlaxrosmedpepparrotsgraddeparagbrod37_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi38_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi38_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Gravlaxpakavring39_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Gravlaxpakavring39_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi40_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi40_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Toastskagenrakor60g9425_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Toastskagenrakor60g9425_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi26_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi26_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Rakcoctailmedkuvertbrod43_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Rakcoctailmedkuvertbrod43_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi44_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi44_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Snittarmedkottbullarmedrodbetssalladleverpastejmedsaltgurka45_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Snittarmedkottbullarmedrodbetssalladleverpastejmedsaltgurka45_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi46_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi46_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Renstek60gmedpepparrotsgradde14921_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Renstek60gmedpepparrotsgradde14921_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi22_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi22_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Rensteksrorapakavringmedgraslok49_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Rensteksrorapakavringmedgraslok49_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi50_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi50_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Bruschettamedlufttorkadskinka51_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Bruschettamedlufttorkadskinka51_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi52_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi52_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Vitloksbrodmedbruchettarora53_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Vitloksbrodmedbruchettarora53_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi54_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi54_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Tomatochmozzarellasalladmedbasilika55_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Tomatochmozzarellasalladmedbasilika55_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi56_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi56_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Ostpajmedsallad57_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Ostpajmedsallad57_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi58_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi58_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Svampsoppamednybakatbrod59_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Svampsoppamednybakatbrod59_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi60_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi60_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Kalltomatsoppamedgrissini61_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Kalltomatsoppamedgrissini61_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi62_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi62_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Jordartskocksoppasesamsticksmedvasterbottenost7929_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Jordartskocksoppasesamsticksmedvasterbottenost7929_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi30_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi30_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Egetval31_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Egetval31_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Beskrivning32_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Beskrivning32_1\",\"validators\": {\"onSave\": [\r\n                                    {\"type\": \"required\"\r\n                                    }\r\n                                ]\r\n                            },\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"d25f9b0b68_1\",\"type\": \"html\",\"label\": \"@Translation.Control.d25f9b0b68_1\",\"valueBinding\":\"function(){return @Translation.Control.d25f9b0b68_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Majskyckling175gmedmangosalsastektris15540_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Majskyckling175gmedmangosalsastektris15540_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi41_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi41_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Majskycklingfilpabaddavrotfruktermedkallortsas70_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Majskycklingfilpabaddavrotfruktermedkallortsas70_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi71_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi71_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Parmalindadmozzarellafylldkycklingfilmedbearnaiseochtimjanstektklyftpotatis72_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Parmalindadmozzarellafylldkycklingfilmedbearnaiseochtimjanstektklyftpotatis72_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi73_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi73_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Grekisktgrilltallrikmedflaskochkycklingmedtzatzikitomatsalladochpotatis74_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Grekisktgrilltallrikmedflaskochkycklingmedtzatzikitomatsalladochpotatis74_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi75_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi75_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Flaskfilmedstuvadechampinjonerochpotatisgratang76_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Flaskfilmedstuvadechampinjonerochpotatisgratang76_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi77_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi77_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Helstektkotlettradmedrodvinssasochpotatisgratang78_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Helstektkotlettradmedrodvinssasochpotatisgratang78_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi79_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi79_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"FlasknoisetteProvencalemedrastektpotatisochvitlokssmor80_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.FlasknoisetteProvencalemedrastektpotatisochvitlokssmor80_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi81_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi81_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Halstradlax160ghollandaiseochrostaderotfrukter18538_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Halstradlax160ghollandaiseochrostaderotfrukter18538_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi39_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi39_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Ugnsbakadlaxmedvitvinssassmorslungadsparrisochkoktpotatis84_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Ugnsbakadlaxmedvitvinssassmorslungadsparrisochkoktpotatis84_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi85_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi85_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Torskryggmeddillkoktpotatissmorstektsparrisochvitvinssas86_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Torskryggmeddillkoktpotatissmorstektsparrisochvitvinssas86_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi87_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi87_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"HalstradTorskryggmedpressadpotatiskantarellerochbryntsmor88_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.HalstradTorskryggmedpressadpotatiskantarellerochbryntsmor88_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi89_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi89_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Hogrevsburgaremedbrodpickladkalrotkaramelliseradlokdijonmayoochklyftpotatis90_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Hogrevsburgaremedbrodpickladkalrotkaramelliseradlokdijonmayoochklyftpotatis90_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi91_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi91_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Oxfil180gmedcognacsasochbaconlindadeharicotsvertsochpommesduchesse23534_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Oxfil180gmedcognacsasochbaconlindadeharicotsvertsochpommesduchesse23534_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi35_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi35_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Hjortinnanlar150gmedmadeirasassmorstektakantarellerochpressadpotatis21936_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Hjortinnanlar150gmedmadeirasassmorstektakantarellerochpressadpotatis21936_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi37_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi37_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Wallenbergaremedpotatispurgronaartorsamtrarordalingon96_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Wallenbergaremedpotatispurgronaartorsamtrarordalingon96_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi97_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi97_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"ParmesangratineradspetskalmedTagliatelletornochsasmilanese11942_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.ParmesangratineradspetskalmedTagliatelletornochsasmilanese11942_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi43_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi43_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Risottomedsparrissvampochbakadkal100_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Risottomedsparrissvampochbakadkal100_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi101_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi101_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Vegetarisklasagnemedsallad102_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Vegetarisklasagnemedsallad102_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi103_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi103_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Pyttipannamedstektaggochrodbetor104_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Pyttipannamedstektaggochrodbetor104_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi105_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi105_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"JanssonsFrestelsemedkoktaggprinskorvknackebrodochlagradost106_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.JanssonsFrestelsemedkoktaggprinskorvknackebrodochlagradost106_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi107_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi107_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"ArtsoppamedknackebrodsmorochostPannkakamedsyltochvispadgradde108_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.ArtsoppamedknackebrodsmorochostPannkakamedsyltochvispadgradde108_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi109_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi109_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Stektflaskmedraggmunkochlingonsylt110_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Stektflaskmedraggmunkochlingonsylt110_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi111_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi111_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Egetval44_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Egetval44_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Beskrivning45_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Beskrivning45_1\",\"validators\": {\"onSave\": [\r\n                                    {\"type\": \"required\"\r\n                                    }\r\n                                ]\r\n                            },\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"6e621bdc115_1\",\"type\": \"html\",\"label\": \"@Translation.Control.6e621bdc115_1\",\"valueBinding\":\"function(){return @Translation.Control.6e621bdc115_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Vitchokladmoussemedpassionsfruktsas9445_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Vitchokladmoussemedpassionsfruktsas9445_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi46_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi46_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Marineradejordgubbarmedkoketsvaniljglass8547_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Marineradejordgubbarmedkoketsvaniljglass8547_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi48_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi48_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Klassiskpannacotta7949_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Klassiskpannacotta7949_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi50_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi50_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Tiramisu7551_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Tiramisu7551_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi52_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi52_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Kladdkakamedlattvispadlikorgraddemedapelsin2553_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Kladdkakamedlattvispadlikorgraddemedapelsin2553_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi54_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi54_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Pannacottamedhallonsas125_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Pannacottamedhallonsas125_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi126_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi126_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Chokladmoussemedbar127_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Chokladmoussemedbar127_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi128_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi128_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Appelkompottmedgraddeochhavrecrunch129_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Appelkompottmedgraddeochhavrecrunch129_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi130_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi130_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Assiettmedtreolikasortersostfroknackeochmarmelad131_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Assiettmedtreolikasortersostfroknackeochmarmelad131_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi132_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi132_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Vaniljglassmedvarmhjortronsylt133_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Vaniljglassmedvarmhjortronsylt133_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi134_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi134_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Rabarbercheesecakemedmangosas135_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Rabarbercheesecakemedmangosas135_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi136_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi136_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Barpajmedvaniljvisp137_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Barpajmedvaniljvisp137_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi138_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi138_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Franskchokladtartamedgradde139_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Franskchokladtartamedgradde139_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi140_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi140_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Fruktsalladmedlattvispadgradde141_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Fruktsalladmedlattvispadgradde141_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi142_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi142_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Chokladpuddingiglasmedlattvispadgradde143_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Chokladpuddingiglasmedlattvispadgradde143_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi144_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi144_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Chokladbit2stperson145_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Chokladbit2stperson145_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi146_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi146_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Egetval57_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Egetval57_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Beskrivning58_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Beskrivning58_1\",\"validators\": {\"onSave\": [\r\n                                    {\"type\": \"required\"\r\n                                    }\r\n                                ]\r\n                            },\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"6b606bfe150_1\",\"type\": \"html\",\"label\": \"@Translation.Control.6b606bfe150_1\",\"valueBinding\":\"function(){return @Translation.Control.6b606bfe150_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Italienskbuff150_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Italienskbuff150_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi151_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi151_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Svenskbuff152_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Svenskbuff152_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi153_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi153_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Amerikanskbuff154_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Amerikanskbuff154_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi155_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi155_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Mexikanskbuff156_1\",\"type\": \"textbox\",\"label\": \"@Translation.Control.Mexikanskbuff156_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"KommentarAllergi157_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.KommentarAllergi157_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"3fe8077f161_1\",\"type\": \"html\",\"label\": \"@Translation.Control.3fe8077f161_1\",\"valueBinding\":\"function(){return @Translation.Control.3fe8077f161_1}\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Allergier12_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Allergier12_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Beskrivning3_1\",\"type\": \"textarea\",\"label\": \"@Translation.Control.Beskrivning3_1\",\"dataSource\": []\r\n                        },\r\n                        {\"id\": \"Bifogafiler5_1\",\"type\": \"fileupload\",\"label\": \"@Translation.Control.Bifogafiler5_1\",\"addonText\": \"@Translation.Message.Drafilerhit_1\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\"id\": \"Skickabekraftelsemailpaattarenderegistrerats63_1\",\"name\": \"@Translation.Section.Skickabekraftelsemailpaattarenderegistrerats63_1\",\"controls\": [\r\n                        {\"id\": \"2bd8f526166_1\",\"type\": \"html\",\"label\": \"@Translation.Control.2bd8f526166_1\",\"valueBinding\":\"function(){return @Translation.Control.2bd8f526166_1}\",\"dataSource\": []\r\n                        }\r\n                    ]\r\n                },\r\n                {\"id\": \"InitiatorInfo\",\"name\": \"@Translation.Section.InitiatorInfo\",\"hiddenBinding\":\"function(){return!0}\",\"controls\": [\r\n                        {\"id\": \"UserId\",\"type\": \"textbox\",\"label\": \"User Id\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName;return this.value!=''?this.value:t&&t.length>0?t[0].UserId||'':this.value}\",\"caseBinding\": \"reportedby\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"Initiator\",\"type\": \"textbox\",\"label\": \"Initiator\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName,i;return this.value!=''?this.value:t&&t.length>0?(i=(t[0].FirstName||'')+' '+(t[0].LastName||''),i.trim()):this.value}\",\"caseBinding\": \"persons_name\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"Email\",\"type\": \"textbox\",\"label\": \"Email\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName;return this.value!=''?this.value:t&&t.length>0?t[0].Email||'':this.value}\",\"validators\": {\"onSave\": [{\"type\": \"pattern\",\"value\": \".+\\\\@.+\\\\..+\",\"name\": \"email\"}]},\"caseBinding\": \"persons_email\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"Phone\",\"type\": \"textbox\",\"label\": \"Phone\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName;return this.value!=''?this.value:t&&t.length>0?t[0].Phone||'':this.value}\",\"caseBinding\": \"persons_phone\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"Mobile\",\"type\": \"textbox\",\"label\": \"Mobile\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName;return this.value!=''?this.value:t&&t.length>0?t[0].Mobile||'':this.value}\",\"caseBinding\": \"persons_cellphone\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"regionId\",\"type\": \"dropdown\",\"label\": \"Region\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName,i;return this.value!=''?this.value:t&&t.length>0&&(i=t[0].RegionId,i!==null)?t[0].Region'id':this.value}\",\"dataSource\": [\r\n                                {\"type\": \"option\",\"id\": \"RegionsByCustomer\",\"parameters\": [\r\n                                        {\"name\": \"CustomerGuid\",\"field\": \"tabs.Prisforfraganrepresentationforickeprissattadelar0_1.sections.HiddenFields.controls.customerGuid\"\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            ],\"caseBinding\": \"region_id\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"departmentId\",\"type\": \"dropdown\",\"label\": \"Department\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName,i;return this.value!=''?this.value:t&&t.length>0&&(i=t[0].DepartmentId,i!==null)?t[0].Department'id':this.value}\",\"dataSource\": [\r\n                                {\"type\": \"option\",\"id\": \"DepartmentsByCustomer\",\"parameters\": [\r\n                                        {\"name\": \"CustomerGuid\",\"field\": \"tabs.Prisforfraganrepresentationforickeprissattadelar0_1.sections.HiddenFields.controls.customerGuid\"\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            ],\"caseBinding\": \"department_id\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"organizationalUnit\",\"type\": \"dropdown\",\"label\": \"Organizational Unit\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName,i;return this.value!=''?this.'value':t&&t.length>0&&(i=t[0].OU_Id,i!==null)?t[0].OU_'id':this.value}\",\"dataSource\": [\r\n                                {\"value\": \"Id\", \"field\": \"OU\",\"type\": \"custom\",\"id\": \"OusByDepartmentDs\"\r\n                                }\r\n                            ],\"caseBinding\": \"ou_id_1\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"CostCentre\",\"type\": \"textbox\",\"label\": \"Cost Centre\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName;return this.value!=''?this.value:t&&t.length>0?t[0].CostCentre||'':this.value}\"\r\n                        },\r\n                        {\"hiddenBinding\":\"function(){return!0}\",\"id\": \"CostCentreValue\",\"type\": \"textbox\",\"valueBinding\":\"function(){return this.parent.controls.CostCentre.value||''}\",\"caseBinding\": \"costcentre\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"Placement\",\"type\": \"textbox\",\"label\": \"Placement\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName;return this.value!=''?this.value:t&&t.length>0?t[0].Place||'':this.value}\",\"caseBinding\": \"place\",\"caseBindingBehaviour\": \"newonly\"\r\n                        },\r\n                        {\"id\": \"OrdererCode\",\"type\": \"textbox\",\"label\": \"Orderer Code\",\"valueBinding\":\"function(n){var t=n.dataSources.getInitiatorByName;return this.value!=''?this.value:t&&t.length>0?t[0].UserCode||'':this.value}\",\"caseBinding\": \"usercode\",\"caseBindingBehaviour\": \"newonly\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\"id\": \"HiddenFields\",\"name\": \"Hidden fields\",\"hiddenBinding\":\"function(){return!0}\",\"controls\": [\r\n                        {\"id\": \"customerGuid\",\"type\": \"textbox\",\"valueBinding\":\"function(){return '334ED687-4B8F-42FC-B1EB-37582A5986A4'}\"\r\n                        },\r\n                        {\"id\": \"currentUser\",\"type\": \"textbox\",\"valueBinding\":\"function(n){return n.formInfo.currentUser?n.formInfo.caseId?void 0:n.formInfo.currentUser: ''}\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}";


        //metaData = metaData.Replace("function(m) { return ", "").Replace("\";}", "\"");

        //var firstTabName = ExtractFirstNameAttribute(metaData);

        //metaData = metaData.Replace("]}," + ExtendedCaseFormsHelper.GetEditorInitiatorData(firstTabName, "d7b2a392-d35e-4138-aeac-185a1f2612ab"), "");
        //metaData = metaData.Replace(@""" },""dataSource", @" "",""dataSource");
        //metaData = metaData.Replace(@"function(m) { if (m.formInfo.applicationType == ""helpdesk"") return true; }",
        //                            @"""function(m) { if (m.formInfo.applicationType == helpdesk) return true; }""")
        //                    .Replace(@"function(m) { if (m.formInfo.applicationType == ""selfservice"") return true; }",
        //                            @"""function(m) { if (m.formInfo.applicationType == selfservice) return true; }""");

        //var hejAnnaKarin = JsonConvert.DeserializeObject<ExtendedCaseFormJsonModel>(metaData);

        //var alltingfungerarkanske = "blabla";

    }


}
