@model ECT.FormLib.Models.FormModel
@using ECT.FormLib;
@using ECT.FormLib.Models;

@*
Just render answer if case is lower or equal to 10 and no case history above 10
*@
@if(Model.Contract.StateSecondaryId <= 10 && (Model.Contract.CaseHistory == null || !Model.Contract.CaseHistory.Where(x => x.StateSecondaryId > 10).Any()))
{
    <tr>
        <td class="tdstrong" colspan="2">
            <h4>@Model.Label("InternalLogNote")</h4>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            @Model.Element("InternalLogNote", "span12")
        </td>
    </tr>
}
else if(Model.Contract.StateSecondaryId < 90)
{
    <tr>
        <td class="tdstrong" colspan="2">
            <h4>@Model.Label("InternalLogNote")</h4>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <textarea name="InternalLogNote" class="span12" rows="7"></textarea>
        </td>
    </tr>
}