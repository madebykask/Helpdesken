@model DH.Helpdesk.Web.Models.CaseSolution.RowIndexViewModel[]
@using System.Web.Optimization
@using DH.Helpdesk.Common.Enums.CaseSolution

@{
    var searchText = (SessionFacade.CurrentCaseSolutionSearch != null &&
                     SessionFacade.CurrentCaseSolutionSearch.SearchCss != null) ? SessionFacade.CurrentCaseSolutionSearch.SearchCss : string.Empty;
    var _asc = SessionFacade.CurrentCaseSolutionSearch.Ascending;    
}

@Scripts.Render("~/bundles/casetemplates/index")

<div id="caseTemplateRowsArea">
    <div>
        <table>
            <tr>
                <td>                    
                    <input type="text" id="caseSolutionSearch", maxlength = "50", style = "width: 200px;" value="@searchText" />
                    <input type="button" id="btnCaseSolutionSearch" class="btn" value="@Translation.Get("Sök", Enums.TranslationSource.TextTranslation)"/>
                </td>
            </tr>
        </table>
    </div>
    <table class="table table-striped table-bordered table-hover" id="tblCaseSolution">
        <thead>
            <tr>
                <th class="sortable" data-sort="@CaseSolutionIndexColumns.Name" data-asc="@_asc" style="cursor: pointer; cursor: hand; width: 15%">
                    @Translation.Get("Namn", Enums.TranslationSource.TextTranslation)                    
                    <i class="@CaseSolutionIndexColumns.Name.SetCaseSolutionSortIcon()"></i>
                </th>
                <th class="sortable" data-sort="@CaseSolutionIndexColumns.Category" data-asc="@_asc" style="cursor: pointer; cursor: hand; width: 12%">
                    @Translation.Get("Kategori", Enums.TranslationSource.TextTranslation)                    
                    <i class="@CaseSolutionIndexColumns.Category.SetCaseSolutionSortIcon()"></i>                    
                </th>
                <th class="sortable" data-sort="@CaseSolutionIndexColumns.Caption" data-asc="@_asc" style="cursor: pointer; width: 15%">
                    @Translation.Get("Rubrik", Enums.TranslationSource.TextTranslation)                    
                    <i class="@CaseSolutionIndexColumns.Caption.SetCaseSolutionSortIcon()"></i>
                </th>
                <th class="sortable" data-sort="@CaseSolutionIndexColumns.Administrator" data-asc="@_asc" style="cursor: pointer; cursor: hand; width: 10%">
                    @Translation.Get("Handläggare", Enums.TranslationSource.TextTranslation)
                    <i class="@CaseSolutionIndexColumns.Administrator.SetCaseSolutionSortIcon()"></i>
                </th>
                <th class="sortable" data-sort="@CaseSolutionIndexColumns.Priority" data-asc="@_asc" style="cursor: pointer; cursor: hand; width: 20%">
                    @Translation.Get("Prioritet", Enums.TranslationSource.TextTranslation)
                    <i class="@CaseSolutionIndexColumns.Priority.SetCaseSolutionSortIcon()"></i>
                </th>
                <th class="sortable" data-sort="@CaseSolutionIndexColumns.ConnectedToButton" data-asc="@_asc" style="cursor: pointer; cursor: hand; width: 15%">
                    @Translation.Get("Kopplat till", Enums.TranslationSource.TextTranslation)
                    <i class="@CaseSolutionIndexColumns.ConnectedToButton.SetCaseSolutionSortIcon()"></i>
                </th>
                <th class="sortable" data-sort="@CaseSolutionIndexColumns.Status" data-asc="@_asc" style="cursor: pointer; cursor: hand; width: 15%">
                    @Translation.Get("Aktiv", Enums.TranslationSource.TextTranslation)
                    <i class="@CaseSolutionIndexColumns.Status.SetCaseSolutionSortIcon()"></i>
                </th>                
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                var inactiveVal = item.IsActive ? string.Empty : "inactive";
                <tr>
                    <td>
                        <a class="@inactiveVal" href="@Url.Action("edit", "casesolution", new { id = item.Id })">@Html.DisplayFor(modelItem => item.Name)</a>
                    </td>
                    <td>
                        <a class="@inactiveVal" href="@Url.Action("edit", "casesolution", new { id = item.Id })">@Html.DisplayFor(modelItem => item.CategoryName)</a>
                    </td>
                    <td>
                        <a class="@inactiveVal" href="@Url.Action("edit", "casesolution", new { id = item.Id })">@Html.DisplayFor(modelItem => item.CaseCaption)</a>
                    </td>
                    <td>
                        <a class="@inactiveVal" href="@Url.Action("edit", "casesolution", new { id = item.Id })">@Html.DisplayFor(modelItem => item.PerformerUserName)</a>
                    </td>
                    <td>
                        <a class="@inactiveVal" href="@Url.Action("edit", "casesolution", new { id = item.Id })">@Html.DisplayFor(modelItem => item.PriorityName)</a>
                    </td>
                    <td>
                        <a class="@inactiveVal" href="@Url.Action("edit", "casesolution", new { id = item.Id })"> @item.ConnectedToButton</a>
                    </td>
                     <td>
                        <a class="@inactiveVal" href="@Url.Action("edit", "casesolution", new { id = item.Id })"> @item.IsActive.BoolToYesNo()</a>
                    </td>                    
                </tr>
            }
        </tbody>
    </table>
</div>
