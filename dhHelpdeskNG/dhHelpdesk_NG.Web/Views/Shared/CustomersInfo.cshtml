@model DH.Helpdesk.Web.Models.Customers.CustomersInfoViewModel
@if (Model != null && Model.Customers != null && Model.Customers.Any())
{
    <div class="box-header portlet-header">
        <div class="start-tile-img label orange">
            <a href="@Url.Action("index", "cases", new {area = ""})"><img src="@Url.Content("~/Content/icons/customer.png")" alt="@Translation.Get("Kund")" /></a>
        </div>
        <h4>@Translation.Get("Case Summary")</h4>
    </div>
    <div class="box-body portlet-content">
        <div class="box-post">
            <table class="table table-striped table-bordered table-hover">
                <tbody>
                @foreach (var customer in Model.Customers)
                {     
                    <tr>
                        <td>
                            <a href="@Url.Action("index", "cases", new { customerId = customer.Customer_Id })">
                                @Html.DisplayFor(modelItem => customer.Customer.Name)
                            </a>
                            <a href="@Url.Action("index", "cases", new { customerId = customer.Customer_Id })" 
                                    class="start-tile label my" 
                                    rel="tooltip" 
                                    data-toggle="tooltip" 
                                    title="@Translation.Get("Mina ärenden")">
                                @Model.Calculator.CalculateMyForCustomer(customer.Customer_Id, Model.UserId)                                           
                            </a>
                            <a href="@Url.Action("index", "cases", new { customerId = customer.Customer_Id })" 
                                    class="start-tile label inrest" 
                                    rel="tooltip" 
                                    title="@Translation.Get("Vilande ärenden")">
                                @Model.Calculator.CalculateInRestForCustomer(customer.Customer_Id)
                            </a>
                            <a href="@Url.Action("index", "cases", new { customerId = customer.Customer_Id })" 
                                    rel="tooltip" 
                                    class="start-tile label closed" 
                                    title="@Translation.Get("Avslutade ärenden")">
                                @Model.Calculator.CalculateClosedForCustomer(customer.Customer_Id)                                            
                            </a>
                            <a href="@Url.Action("index", "cases", new { customerId = customer.Customer_Id })" 
                                    rel="tooltip" 
                                    class="start-tile label unread" 
                                    title="@Translation.Get("Pågående ärenden")">
                                @Model.Calculator.CalculateInProgressForCustomer(customer.Customer_Id)
                            </a>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
}
