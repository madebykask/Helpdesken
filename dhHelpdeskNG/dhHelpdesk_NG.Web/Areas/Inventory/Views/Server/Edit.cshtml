@using DH.Helpdesk.Web.Infrastructure
@model DH.Helpdesk.Web.Areas.Inventory.Models.EditModel.Server.ServerEditViewModel

@{
    Layout = "~/Areas/Inventory/Views/Server/_EditServerLayout.cshtml";
}           

@section Actions
{
    <ul class="secnav">
        <li id="menu1">
            <input type="submit" value="@Translation.Get("Spara")" class="btn" onclick=" $('#server_edit_form').submit(); "/>
        </li>
        <li id="menu3">@Html.ActionLink(Translation.Get("Ta bort"), "Delete", new { id = Model.ServerViewModel.Id }, new { @class = "btn" })</li>
        <li id="menu2">@Html.ActionLink(Translation.Get("Avbryt"), "Index", null, new { @class = "btn" })</li>
    </ul>
}

@using (Html.BeginForm("Edit", "Server", FormMethod.Post, new { id = "server_edit_form" }))
{
    <label class="checkbox">@Html.CheckBoxFor(m => m.ServerViewModel.IsOperationObject) @Translation.Get("Driftobjekt")</label>

    @Html.HiddenFor(m => m.ServerViewModel.Id)
    @Html.EditorFor(m => m.ServerViewModel.GeneralFieldsModel)
    @Html.EditorFor(m => m.ServerViewModel.ChassisFieldsModel)
    @Html.EditorFor(m => m.ServerViewModel.InventoryFieldsModel)
    @Html.EditorFor(m => m.ServerViewModel.OperatingSystemFieldsViewModel)
    @Html.EditorFor(m => m.ServerViewModel.ProccesorFieldsViewModel)
    @Html.EditorFor(m => m.ServerViewModel.MemoryFieldsViewModel)
    @Html.EditorFor(m => m.ServerViewModel.StorageFieldsModel)
    @Html.EditorFor(m => m.ServerViewModel.CommunicationFieldsViewModel)
    @Html.EditorFor(m => m.ServerViewModel.OtherFieldsModel)
    @Html.EditorFor(m => m.ServerViewModel.PlaceFieldsViewModel)
    @Html.EditorFor(m => m.ServerViewModel.StateFieldsModel)
    if (Model.ServerViewModel.CreatedDate.Show || Model.ServerViewModel.ChangedDate.Show)
    {
    <h4>@Translation.Get("Status")</h4>
    }
    <div class="row">
        <div class="span12">
            <table class="tableform">
                @if (Model.ServerViewModel.CreatedDate.Show)
                {
                    <tr>
                        <td class="span3">
                            <label>@Translation.Get(Model.ServerViewModel.CreatedDate.Caption)</label>
                        </td>
                        <td class="span9">
                            @Html.DisplayFor(m => m.ServerViewModel.CreatedDate.Value, "Date")
                        </td>
                    </tr>
                }
                @if (Model.ServerViewModel.ChangedDate.Show)
                {
                    <tr>
                        <td class="span3">
                            <label>@Translation.Get(Model.ServerViewModel.ChangedDate.Caption)</label>
                        </td>
                        <td class="span9">
                            @Html.DisplayFor(m => m.ServerViewModel.ChangedDate.Value, "Date")
                        </td>
                    </tr>
                    if (Model.ServerViewModel.StateFieldsModel.ChangedByUserName != null)
                    {
                    <tr>
                        <td class="span3">
                            <label>@Translation.Get("Changed by")</label>
                        </td>
                        <td class="span9">
                            @Html.DisplayFor(m => m.ServerViewModel.StateFieldsModel.ChangedByUserName.FirstName) @Html.DisplayFor(m => m.ServerViewModel.StateFieldsModel.ChangedByUserName.LastName)
                        </td>
                    </tr>
                    }
                }
            </table>
        </div>
    </div>
}