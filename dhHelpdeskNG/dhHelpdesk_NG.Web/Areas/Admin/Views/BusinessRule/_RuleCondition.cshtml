@using DH.Helpdesk.Web.Infrastructure
@model DH.Helpdesk.Web.Areas.Admin.Models.BusinessRule.BRConditionModel
@{
    ViewBag.Title = "Rule Condition";
}

<h4>@Translation.Get("Conditions")</h4>

<table class="table table-striped table-bordered table-hover">
    <thead>
        <tr>           
            <th style="width:10%">
                Field
            </th>
            <th style="width:25%">
                From value
            </th>
            <th style="width:25%">
                To value
            </th>                      
            <th>

            </th>
        </tr>
    </thead>
    <tbody>           
        <tr>
            <td>
                @Translation.Get("Process")
            </td>
            <td>
                @{var procFromSelected = string.Join(",",  Model.ProcessFromValue.Where(p=> p.Selected).Select(p=> p.Value));}
                <select id="lstProcessFrom" name="lstProcessFrom" class="BR-chosen-select" multiple="multiple">  
                    @foreach(var process in Model.Process)
                    {
                        <option value="@process.Value" @process.Value.ValueIsSelected(procFromSelected )>
                            @process.Text
                        </option>
                    }
                </select>
            </td>
            <td>
                @{var procToSelected = string.Join(",", Model.ProcessToValue.Where(p => p.Selected).Select(p => p.Value));}
                <select id="lstProcessTo" name="lstProcessTo" class="BR-chosen-select" multiple="multiple">  
                    @foreach(var process in Model.Process)
                    {
                        <option value="@process.Value" @process.Value.ValueIsSelected(procToSelected)>
                            @process.Text
                        </option>
                    }
                </select>
            </td>  
            <td></td>         
        </tr>       

        <tr>
            <td>
                @Translation.Get("SubStatus")
            </td>
            <td>
                @{var SubStatusFromSelected = string.Join(",", Model.SubStatusFromValue.Where(p => p.Selected).Select(p => p.Value));}
                <select id="lstSubStatusFrom" name="lstSubStatusFrom" class="BR-chosen-select" multiple="multiple">  
                    @foreach (var subStatus in Model.SubStatus)
                    {
                        <option value="@subStatus.Value" @subStatus.Value.ValueIsSelected(SubStatusFromSelected) >
                            @subStatus.Text
                        </option>
                    }
                </select>
            </td>
            <td>
                @{var SubStatusToSelected = string.Join(",", Model.SubStatusToValue.Where(p => p.Selected).Select(p => p.Value));}
                <select id="lstSubStatusTo" name="lstSubStatusTo" class="BR-chosen-select" multiple="multiple">  
                    @foreach (var subStatus in Model.SubStatus)
                    {
                        <option value="@subStatus.Value" @subStatus.Value.ValueIsSelected(SubStatusToSelected)>
                            @subStatus.Text
                        </option>
                    }
                </select>
            </td> 
            
            <td></td>         
        </tr>       

    </tbody>    
</table>
