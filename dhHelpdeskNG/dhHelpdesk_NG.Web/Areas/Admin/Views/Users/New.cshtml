@using DH.Helpdesk.Web.Infrastructure
@model DH.Helpdesk.Web.Areas.Admin.Models.UserInputViewModel
@{
    ViewBag.Title = "New";
}
@using (Html.BeginForm("new", "users", new { id = Model.User.Id }, FormMethod.Post, new { id = "target" }))
{
    <div class="secnavs fixed">
        <div class="pull-left">
            <ul class="secnav">
                <li>@Html.ActionLink(Translation.Get("Spara", Enums.TranslationSource.TextTranslation), "new", null, new { onclick = "$('#target').submit();return false;", @class = "btn" })</li>
                <li>@Html.ActionLink(Translation.Get("Avbryt", Enums.TranslationSource.TextTranslation), "index", null, new { @class = "btn" })</li>
            </ul>
        </div>
    </div>
    @Html.Partial("_Input", Model)

}
<script type="text/javascript">

    $(function () {
   
        var validator = $("#target").validate({
            rules: {
                "User.UserID": {
                    required: true
                },
                "User.FirstName": {
                    required: true
                },
                "User.SurName": {
                    required: true
                },
                "User.Email": {
                    required: true
                }
            },
            messages: {
                "User.UserID": {
                    required: "@Translation.Get("Du måste ange ett Användar ID", Enums.TranslationSource.TextTranslation)"
                },
                "User.FirstName": {
                    required: "@Translation.Get("Du måste ange ett namn", Enums.TranslationSource.TextTranslation)"
                },
                "User.SurName": {
                    required: "@Translation.Get("Du måste ange ett namn", Enums.TranslationSource.TextTranslation)"
                },
                "User.Email": {
                    required: "@Translation.Get("You must specify an e-mail address", Enums.TranslationSource.TextTranslation)"
                }
                },
                submitHandler: function (form) {
                    submitForm();
                    form.submit();   
                }
            });
    });

    $("input:text:visible:first").focus();

</script>
