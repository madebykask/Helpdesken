@using DH.Helpdesk.Web.Infrastructure
@model DH.Helpdesk.Web.Areas.Admin.Models.UserIndexViewModel

@using (Html.BeginForm("index", "users", FormMethod.Post, new { id = "searchUsers" }))
{    
    <div class="container">
        <div class="row"> 
            <div class="span12">
                <table class="tableform">
                    <tr>
                        <td class="span3">
                            @Translation.Get("Kund")
                        </td>
                        <td class="span4">
                            @Html.DropDownListFor(m => Model.Filter.CustomerId, Model.CsSelected, new { id = "customerDDL" })
                        </td>
                        <td class="span5"></td>
                    </tr>
                    <tr id="SearchFieldForUsers">
                        <td class="span3">
                            @Translation.Get("Status")
                        </td>
                        <td class="span4">
                            @Html.DropDownListFor(m => m.Filter.StatusId, Model.StatusUsers, new { id = "statusDDL" })
                        </td>
                        <td class="span5"></td>
                    </tr>
                    <tr>
                        <td>
                            @Translation.Get("Sök")
                        </td>
                        <td>
                            @Html.TextBoxFor(model => model.Filter.SearchUs, new { maxlength = "50" })

                        </td>
                        <td class="span5">
                            <input type="button" id="searchQueryBtn" value="@Translation.Get("Sök", Enums.TranslationSource.TextTranslation)" class="btn" onclick="submit();" />
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                            @Model.Users.Count()
                            @Translation.Get("poster i sökresultat", Enums.TranslationSource.TextTranslation)
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class="container">
        <table class="table table-striped table-bordered table-hover table-cases" id="tblUsers">
            <thead>
                <tr>
                    <th>
                        @Translation.Get("Användar ID", Enums.TranslationSource.TextTranslation)
                    </th>
                    <th>
                        @Translation.Get("Förnamn", Enums.TranslationSource.TextTranslation)
                    </th>
                    <th>
                        @Translation.Get("Efternamn", Enums.TranslationSource.TextTranslation)
                    </th>
                    <th>
                        @Translation.Get("Telefon", Enums.TranslationSource.TextTranslation)
                    </th>
                    <th>
                        @Translation.Get("Mobil", Enums.TranslationSource.TextTranslation)
                    </th>
                    <th>
                        @Translation.Get("E-mail", Enums.TranslationSource.TextTranslation)
                    </th>
                    <th>
                        @Translation.Get("Användargrupp", Enums.TranslationSource.TextTranslation)
                    </th>
                    <th>
                        @Translation.Get("Senast ändrad datum", Enums.TranslationSource.TextTranslation)
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Users)
                {
                    <tr>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Html.DisplayFor(modelItem => item.UserID)</a>
                        </td>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Html.DisplayFor(modelItem => item.FirstName)</a>
                        </td>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Html.DisplayFor(modelItem => item.SurName)</a>
                        </td>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Html.DisplayFor(modelItem => item.Phone)</a>
                        </td>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Html.DisplayFor(modelItem => item.CellPhone)</a>
                        </td>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Html.DisplayFor(modelItem => item.Email)</a>
                        </td>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Translation.Get(item.UserGroup.Name, Enums.TranslationSource.TextTranslation)</a>
                        </td>
                        <td>
                            <a href="@Url.Action("edit", "users", new { id = item.Id })">@Html.DisplayFor(modelItem => item.ChangeTime)</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}