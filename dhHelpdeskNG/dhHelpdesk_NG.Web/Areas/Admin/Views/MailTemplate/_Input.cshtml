@using DH.Helpdesk.BusinessData.Enums.MailTemplates
@using DH.Helpdesk.Web.Infrastructure
@using DH.Helpdesk.Web.Infrastructure.Extensions
@using DH.Helpdesk.BusinessData.OldComponents
@using DH.Helpdesk.Web.Models.Case
@using DH.Helpdesk.Web.Models.Questionnaire.Output
@model DH.Helpdesk.Web.Areas.Admin.Models.MailTemplateInputViewModel
@if (TempData["Error"] != null)
{
    <div class="alert alert-error">@Translation.Get("E-post mall", Enums.TranslationSource.TextTranslation)
        @Translation.Get("som används går inte att ta bort", Enums.TranslationSource.TextTranslation)
    </div>
}
<div class="content">
    <div class="container">
        <ul class="nav nav-tabs" id="myTab">
            <li class="active"><a href="#fragment-1">@Translation.Get("E-post mall", Enums.TranslationSource.TextTranslation) - @Model.Customer.Name</a></li>
        </ul>
        <input type="hidden" id="customerId" name="customerId" value="@Model.Customer.Id" />
        <input type="hidden" id="mailTemplateId" name="mailTemplateId" value="@Model.MailTemplateLanguage.MailTemplate_Id" />
        <div class="tab-content">
            <div class="tab-pane tab-pane-border active" id="fragment1">
                <div class="container">
                    <div class="row">
                        <div class="span12">
                            <table class="tableform">
                                <tr>
                                    <td class="span3">
                                        @Translation.Get("Språk", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        @Html.DropDownListFor(model => Model.MailTemplateLanguage.Language_Id, Model.Languages,
                                                              new { id = "LanguageId" })
                                    </td>
                                </tr>
                                @if (Model.MailTemplateLanguage.MailTemplate_Id != 0)
                                {             
                                    <tr>
                                        <td>
                                            @Translation.Get("E-post mall", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        @*if (Model.MailTemplateLanguage.MailTemplateName == "" || Model.MailTemplateLanguage.MailTemplateName == null)*@
                                        @if (Model.MailTemplateLanguage.MailTemplate != null && Model.MailTemplateLanguage.MailTemplate.IsStandard == 1)
                                        {
                                            <td>
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 1)
                                                {
                                                    @Translation.Get("Nytt ärende", Enums.TranslationSource.TextTranslation)
                                                }

                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 2)
                                                {
                                                    @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)  @Translation.Get("Handläggare", Enums.TranslationSource.TextTranslation)
                                                }

                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase)
                                                {
                                                    @Translation.Get("Ärendet avslutat", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 4)
                                                {
                                                    @Translation.Get("Informera anmälaren om åtgärden", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 5)
                                                {
                                                    @Translation.Get("Skicka intern loggpost till", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 6)
                                                {
                                                    @Translation.Get("Enkät", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 7)
                                                {
                                                    @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)  @Translation.Get("Driftgrupp", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 9)
                                                {
                                                    @Translation.Get("Bevakningsdatum inträffar", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 10)
                                                {
                                                    @Translation.Get("Anmälaren uppdaterat ärende", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 11)
                                                {
                                                    @Translation.Get("SMS", Enums.TranslationSource.TextTranslation)  @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 12)
                                                {
                                                    @Translation.Get("Skicka mail när planerat åtgärdsdatum inträffar", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 13)
                                                {
                                                    @Translation.Get("Prioritet", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 14)
                                                {
                                                    @Translation.Get("SMS", Enums.TranslationSource.TextTranslation)  @Translation.Get("Ärendet avslutat", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 15)
                                                {
                                                    @Translation.Get("Anmälaren aktiverat ärende", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 16)
                                                {
                                                    @Translation.Get("Påminnelse", Enums.TranslationSource.TextTranslation) @Translation.Get("Enkät", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate_Id == 40)
                                                {
                                                    @Translation.Get("Beställning", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 50)
                                                {
                                                    @Translation.Get("Tilldelad ändring", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 51)
                                                {
                                                    @Translation.Get("Skicka loggpost till", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 52)
                                                {
                                                    @Translation.Get("CAB", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 53)
                                                {
                                                    @Translation.Get("PIR", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 54)
                                                {
                                                    @Translation.Get("Statusändring", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 55)
                                                {
                                                    @Translation.Get("Ändring", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 60)
                                                {
                                                    @Translation.Get("Driftlogg", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate_Id == 70)
                                                {
                                                    @Translation.Get("Beställning kontobehörighet", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate_Id == 270)
                                                {
                                                    @Translation.Get("Beställning kontobehörighet", Enums.TranslationSource.TextTranslation)
                                                }
                                                @if (Model.MailTemplateLanguage.MailTemplate.MailID == 272)
                                                {
                                                    @Translation.Get("Beställning kontobehörighet", Enums.TranslationSource.TextTranslation)
                                                }
                                            </td>
                                        }
                                        else
                                        {
                                            <td>
                                                @Html.TextBoxFor(model => model.MailTemplateLanguage.MailTemplateName, new { maxlength = "50", })
                                            </td>
                                        }
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.Get("Ämne", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            @Html.TextBoxFor(model => Model.MailTemplateLanguage.Subject, new { maxlength = "50", })
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.Get("Text", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            @Html.TextAreaFor(model => Model.MailTemplateLanguage.Body, new { style = "width:600px; height:125px;", maxlength = "2000" })
                                        </td>
                                    </tr>
                                }
                                else
                                {                                 
                                    <tr>
                                        <td>
                                            @Translation.Get("E-post mall", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        @if (Model.MailTemplateLanguage.MailTemplateName == "" || Model.MailTemplateLanguage.MailTemplateName == null)
                                        {
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 1)
                                            {
                                            <td>
                                                @Translation.Get("Nytt ärende", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 2)
                                            {
                                            <td>
                                                @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)  @Translation.Get("Handläggare", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase)
                                            {
                                            <td>
                                                @Translation.Get("Ärendet avslutat", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 4)
                                            {
                                            <td>
                                                @Translation.Get("Informera anmälaren om åtgärden", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 5)
                                            {
                                            <td>
                                                @Translation.Get("Skicka intern loggpost till", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 6)
                                            {
                                            <td>
                                                @Translation.Get("Enkät", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 7)
                                            {
                                            <td>
                                                @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)  @Translation.Get("Driftgrupp", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 9)
                                            {
                                            <td>
                                                @Translation.Get("Bevakningsdatum inträffar", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 10)
                                            {
                                            <td>
                                                @Translation.Get("Anmälaren uppdaterat ärende", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 11)
                                            {
                                            <td>
                                                @Translation.Get("SMS", Enums.TranslationSource.TextTranslation)  @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 12)
                                            {
                                            <td>
                                                @Translation.Get("Skicka mail när planerat åtgärdsdatum inträffar", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 13)
                                            {
                                            <td>
                                                @Translation.Get("Prioritet", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 14)
                                            {
                                            <td>
                                                @Translation.Get("SMS", Enums.TranslationSource.TextTranslation)  @Translation.Get("Ärendet avslutat", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 15)
                                            {
                                            <td>
                                                @Translation.Get("Anmälaren aktiverat ärende", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 16)
                                            {
                                            <td>
                                                @Translation.Get("Påminnelse", Enums.TranslationSource.TextTranslation) @Translation.Get("Enkät", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 60)
                                            {
                                            <td>
                                                @Translation.Get("Driftlogg", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 50)
                                            {
                                            <td>
                                                @Translation.Get("Tilldelad ändring", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 51)
                                            {
                                            <td>
                                                @Translation.Get("Skicka loggpost till", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 52)
                                            {
                                            <td>
                                                @Translation.Get("CAB", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 53)
                                            {
                                            <td>
                                                @Translation.Get("PIR", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 54)
                                            {
                                            <td>
                                                @Translation.Get("Statusändring", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID == 55)
                                            {
                                            <td>
                                                @Translation.Get("Ändring", Enums.TranslationSource.TextTranslation)
                                            </td>
                                            }
                                            if (Model.MailTemplateLanguage.MailTemplate.MailID >= 99)
                                            {
                                            <td>
                                                @Html.TextBoxFor(model => model.MailTemplateLanguage.MailTemplateName, new { maxlength = "50", })
                                            </td>
                                            }
                                        }
                                        else
                                        {
                                            <td>
                                                @Html.TextBoxFor(model => model.MailTemplateLanguage.MailTemplateName, new { maxlength = "50", })
                                            </td>
                                        }
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.Get("Ämne", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            @Html.TextBoxFor(model => Model.MailTemplateLanguage.Subject, new { maxlength = "50", })
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.Get("Text", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            @Html.TextAreaFor(model => Model.MailTemplateLanguage.Body, new { style = "width:600px; height:125px;", maxlength = "2000" })
                                        </td>
                                    </tr>
                                }
                            </table>
                        </div>
                    </div>
                    <div class="container">
                        <table class="table table-striped table-bordered table-hover" style="width: 900px">
                            <thead>
                                <tr>
                                    <th>
                                        @Translation.Get("Fält", Enums.TranslationSource.TextTranslation)
                                    </th>
                                    <th>
                                        @Translation.Get("Identifierare", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                            </thead>

                            @if (Model.MailTemplateLanguage.MailTemplate.MailID != 8 && (Model.MailTemplateLanguage.MailTemplate.MailID < 40 || Model.MailTemplateLanguage.MailTemplate.MailID > 99))
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Allmänt", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Ärende", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#1]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Registreringsdatum", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#16]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Registrerad av", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#29]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Senast uppdaterad av", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#22]
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Användarinformation", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_Name.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_EMail.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_Phone.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_CellPhone.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Customer_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Place.ToString() });
                                if (Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.InventoryNumber.ToString() }) == null)
                                {
                                    <tr>
                                        <th colspan="2">
                                            @Translation.Get("Datorinformation", Enums.TranslationSource.TextTranslation)
                                        </th>
                                    </tr>
}
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.InventoryNumber.ToString() });
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Ärendeinformation", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.CaseType_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Category_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Caption.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.ProductArea_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Description.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Miscellaneous.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Available.ToString() });
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Övrigt", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.WorkingGroup_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.WorkingGroup_Id.ToString(), Extralabel = "E-post", EMailIdentifier = "[#13]" });

                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString(), Extralabel = "Förnamn", EMailIdentifier = "[#6]" });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString(), Extralabel = "Efternamn", EMailIdentifier = "[#7]" });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Priority_Id.ToString() });
                                <tr>
                                    <td>
                                        @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Priority_Id.ToString()) @Translation.Get("Beskrivning", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#20]
                                    </td>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.WatchDate.ToString() });
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Ärendelogg", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.tblLog_Text_External.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.tblLog_Text_Internal.ToString() });

                                if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.InformNotifier ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.InternalLogNote ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.NewCase ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID > 99)
                                {
                                    <tr>
                                        <td>@Translation.Get("Bifogad fil", Enums.TranslationSource.TextTranslation)</td>
                                        <td>[#14]</td>
                                    </tr>
                                    <tr>
                                        <td>@Translation.Get("Intern bifogad fil", Enums.TranslationSource.TextTranslation)</td>
                                        <td>[#30]</td>
                                    </tr>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 11)
                                {
                                    <tr>
                                        <td>
                                            @Translation.Get("Hyperlänk", Enums.TranslationSource.TextTranslation) @Translation.Get("Enkät", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            [#99]
                                        </td>

                                    </tr>
}
                                else
                                {
                                    <tr>
                                        <td>
                                            @Translation.Get("Hyperlänk", Enums.TranslationSource.TextTranslation) @Translation.Get("till", Enums.TranslationSource.TextTranslation) @Translation.Get("Självservice", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            [#98]
                                        </td>

                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.Get("Hyperlänk", Enums.TranslationSource.TextTranslation) @Translation.Get("till", Enums.TranslationSource.TextTranslation) @Translation.Get("Handläggare", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            [#99]
                                        </td>

                                    </tr>
}
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID > 39 && Model.MailTemplateLanguage.MailTemplate.MailID < 50)
                            {
                                foreach (var item in Model.OrderFieldSettings)
                                {
                                    if (item.OrderField != "Program")
                                    {
                                        <tr>
                                            <th colspan="2">
                                                @if (item.OrderField == "Customer_Id")
                                                {
                                                    @Translation.Get("Allmänt", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "User_Id")
                                                {
                                                    @Translation.Get("Användare", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "OrdererID")
                                                {
                                                    @Translation.Get("Beställare", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "OrderProperty_Id")
                                                {
                                                    @Translation.Get("Beställning", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "ReceiverId")
                                                {
                                                    @Translation.Get("Mottagare", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "SupplierOrderNumber")
                                                {
                                                    @Translation.Get("Orderinformation", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "DeliveryDate")
                                                {
                                                    @Translation.Get("Leveransinformation", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "Program")
                                                {
                                                    @Translation.Get("Program", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.OrderField == "Filename")
                                                {
                                                    @Translation.Get("Övrigt", Enums.TranslationSource.TextTranslation)
}

                                            </th>

                                        </tr>
                                        <tr>
                                            <td>
                                                @item.Label
                                            </td>
                                            <td>
                                                @item.EMailIdentifier
                                            </td>
                                        </tr>  }
                                }
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID == 70)
                            {
                                foreach (var item in Model.AccountFieldSettings)
                                {
                                    if (item.AccountField != "Program")
                                    {
                                        <tr>
                                            <th colspan="2">
                                                @if (item.AccountField == "Customer_Id")
                                                {
                                                    @Translation.Get("Allmänt", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.AccountField == "UserId")
                                                {
                                                    @Translation.Get("Användarinformation", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.AccountField == "OrdererID")
                                                {
                                                    @Translation.Get("Beställare", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.AccountField == "AccountStartDate")
                                                {
                                                    @Translation.Get("Kontoinformation", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.AccountField == "ContactId")
                                                {
                                                    @Translation.Get("Kontakt", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.AccountField == "DeliveryName")
                                                {
                                                    @Translation.Get("Leveransinformation", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.AccountField == "Program")
                                                {
                                                    @Translation.Get("Program", Enums.TranslationSource.TextTranslation)
}
                                                else if (item.AccountField == "CaseNumber")
                                                {
                                                    @Translation.Get("Övrigt", Enums.TranslationSource.TextTranslation)
}
                                            </th>

                                        </tr>
                                        <tr>
                                            <td>
                                                @item.Label
                                            </td>
                                            <td>
                                                @item.EMailIdentifier
                                            </td>
                                        </tr>  }
                                }
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID > 59 && Model.MailTemplateLanguage.MailTemplate.MailID < 69)
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Driftlogg", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Driftsobjekt", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#1]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Kategori", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#2]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Beskrivning", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#3]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Åtgärd", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#4]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Tidsåtgång", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#5]
                                    </td>
                                </tr>}
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID > 49 && Model.MailTemplateLanguage.MailTemplate.MailID < 60)
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Allmänt", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Change", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#3]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Customer", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#4]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("ID", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#50]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Namn", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#27]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Telefon", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#28]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Mobil", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#51]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("E-post", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#29]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Avdelning", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#52]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Prioritering", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#2]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Titel", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#5]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Status", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#1]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("System", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#30]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Objekt", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#6]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Inventarie", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#55]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Ägare", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#7]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Driftgrupp", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#34]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Ansvarig", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#13]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Closing Date", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#64]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Namn", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#60]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Telefon", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#61]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("E-post", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#62]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Företag", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#63]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Beskrivning", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#9]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Affärsnytta", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#10]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Konsekvens", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#33]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Påverkan", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#47]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Önskas infört", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#31]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Verifierad", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#14]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Godkännade", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#46]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Förklaring", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#50]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Kategori", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#32]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Prioritet", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#11]
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Analys", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Analyst", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#15]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Lösning", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#16]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Kostnad", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#17]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Årlig kostnad", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#18]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Tidsuppskattning timmar", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#22]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Risk", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#48]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Start genomförande", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#19]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Slutdatum", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#20]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Implementationsplan framtagen", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#35]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Återställningsplan framtagen", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#36]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("CAB Rekommendation", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#45]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Logg", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#56]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Godkännande", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#49]
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Implementation", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Status implementation", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#21]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Verkligt startdatum", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#24]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Bygg och test genomförd", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#40]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Implementationsplan använd", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#39]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Avvikelse", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#41]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Återställningsplan använd", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#38]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Closing Date", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#23]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Logg", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#57]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Implementation klar", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#53]
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="2">
                                        @Translation.Get("Utvärdering", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Utvärdering", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#43]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Logg", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#58]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Utvärdering klar", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#54]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Logg", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        [#59]
                                    </td>
                                </tr>}
                            @if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase)
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Återkoppling")
                                    </th>
                                </tr>foreach (var feedback in (List<FeedbackOverviewModel>)ViewBag.Feedbacks)
                                {
                                    <tr>
                                        <td>
                                            @feedback.Name
                                        </td>
                                        <td>
                                            [@feedback.Identifier]
                                        </td>
                                    </tr>
}
                            }
                            @*
                COMMENTED OUT BECAUSE THIS MODULE IS NOT YET FINISHED
            <tr>
                <th colspan="2">@Translation.Get("Snabbenkät", Enums.TranslationSource.TextTranslation)
                </th>
            </tr>
                <tr>
                    <td>@Translation.Get("Snabbenkät", Enums.TranslationSource.TextTranslation)
                    </td>
                    <td>[#777]
                    </td>
                </tr>*@
                        </table>


                        @Html.HiddenFor(model => model.MailTemplateLanguage.Language_Id)
                        @Html.HiddenFor(model => model.MailTemplateLanguage.MailTemplate_Id)
                        @Html.HiddenFor(model => model.MailTemplate)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $("#LanguageId").change(function () {
        changeLanguageList(this.options[this.selectedIndex].value);
    });
</script>
