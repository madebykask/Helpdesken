@using DH.Helpdesk.Web.Infrastructure
@using DH.Helpdesk.Web.Infrastructure.Extensions
@using DH.Helpdesk.BusinessData.OldComponents
@model DH.Helpdesk.Web.Areas.Admin.Models.MailTemplateInputViewModel
@if (TempData["Error"] != null)
{
    <div class="alert alert-error">@Translation.Get("E-post mall", Enums.TranslationSource.TextTranslation)
        @Translation.Get("som används går inte att ta bort", Enums.TranslationSource.TextTranslation)
    </div>
}
<div class="content">
    <div class="container">
        <ul class="nav nav-tabs" id="myTab">
            <li class="active"><a href="#fragment-1">@Translation.Get("E-post mall", Enums.TranslationSource.TextTranslation) - @Model.Customer.Name</a></li>
        </ul>
        <input type="hidden" id="customerId" name="customerId" value="@Model.Customer.Id" />
        <input type="hidden" id="mailTemplateId" name="mailTemplateId" value="@Model.MailTemplateLanguage.MailTemplate_Id" />
        <div class="tab-content">
            <div class="tab-pane tab-pane-border active" id="fragment1">
                <div class="container">
                    <div class="row">
                        <div class="span12">
                            <table class="tableform">
                                <tr>
                                    <td class="span3">
                                        @Translation.Get("Språk", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        @Html.DropDownListFor(model => model.MailTemplateLanguage.Language_Id, Model.Languages, new { id = "LanguageId", onchange = "changeLanguageList(this.options[this.selectedIndex].value);" })
                                    </td>
                                </tr>              
                                <tr>
                                    <td>
                                        @Translation.Get("E-post mall", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 6)
                                        {
                                             @Translation.Get("Enkät", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 11)
                                        {
                                             @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 15)
                                        {
                                             @Translation.Get("Nytt ärende", Enums.TranslationSource.TextTranslation)
                                        }
                                         @if (Model.MailTemplateLanguage.MailTemplate_Id == 16)
                                        {
                                             @Translation.Get("Påminnelse Enkät", Enums.TranslationSource.TextTranslation)
                                        }
                                         @if (Model.MailTemplateLanguage.MailTemplate_Id == 17)
                                        {
                                             @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)  @Translation.Get("Handläggare", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 25)
                                        {
                                             @Translation.Get("Tilldelat ärende", Enums.TranslationSource.TextTranslation)  @Translation.Get("Driftgrupp", Enums.TranslationSource.TextTranslation)
                                        }
                                         @if (Model.MailTemplateLanguage.MailTemplate_Id == 19)
                                        {
                                             @Translation.Get("Ärendet avslutat", Enums.TranslationSource.TextTranslation)
                                        }
                                         @if (Model.MailTemplateLanguage.MailTemplate_Id == 13)
                                        {
                                             @Translation.Get("Informera anmälaren om åtgärden", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 21)
                                        {
                                             @Translation.Get("Skicka intern loggpost till", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 33)
                                        {
                                             @Translation.Get("Anmälaren uppdaterat ärende", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 40)
                                        {
                                             @Translation.Get("Beställning", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 50)
                                        {
                                             @Translation.Get("Tilldelad ändring", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 51)
                                        {
                                             @Translation.Get("Skicka loggpost till", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 52)
                                        {
                                             @Translation.Get("CAB", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 53)
                                        {
                                             @Translation.Get("PIR", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 54)
                                        {
                                             @Translation.Get("Statusändring", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 55)
                                        {
                                             @Translation.Get("Ändring", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 60)
                                        {
                                             @Translation.Get("Driftlogg", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 70)
                                        {
                                             @Translation.Get("Beställning kontobehörighet", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 171)
                                        {
                                             @Translation.Get("Anmälaren aktiverat ärende", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 168)
                                        {
                                             @Translation.Get("Bevakningsdatum inträffar", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 170)
                                        {
                                             @Translation.Get("Skicka mail när planerat åtgärdsdatum inträffar", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 172)
                                        {
                                             @Translation.Get("Prioritet", Enums.TranslationSource.TextTranslation)
                                        }
                                         @if (Model.MailTemplateLanguage.MailTemplate_Id == 195)
                                        {
                                             @Translation.Get("Skicka loggpost till", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 270)
                                        {
                                             @Translation.Get("Beställning kontobehörighet", Enums.TranslationSource.TextTranslation)
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 272)
                                        {
                                             @Translation.Get("Beställning kontobehörighet", Enums.TranslationSource.TextTranslation)
                                        }
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Ämne", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.MailTemplateLanguage.Subject, new { maxlength = "50", })
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.Get("Text", Enums.TranslationSource.TextTranslation)
                                    </td>
                                    <td>
                                        @Html.TextAreaFor(model => model.MailTemplateLanguage.Body, new { style = "width:600px; height:125px;", maxlength = "2000" })
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="container">
                        <table class="table table-striped table-bordered table-hover" style="width: 900px">
                            <thead>
                                <tr>
                                    <th>
                                        @Translation.Get("Fält", Enums.TranslationSource.TextTranslation)
                                    </th>
                                    <th>
                                        @Translation.Get("Identifierare", Enums.TranslationSource.TextTranslation)
                                    </th>
                                </tr>
                            </thead>
                            
                            @if (Model.MailTemplateLanguage.MailTemplate.MailID != 8 && (Model.MailTemplateLanguage.MailTemplate.MailID < 40 || Model.MailTemplateLanguage.MailTemplate.MailID > 99))
                            {
                             <tr>   
                                <th colspan="2">
                                    @Translation.Get("Allmänt", Enums.TranslationSource.TextTranslation)
                                </th>
                             </tr>
                            <tr>
                                <td>
                                    @Translation.Get("Användar ID", Enums.TranslationSource.TextTranslation)
                                </td>
                                <td>
                                    [#1]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Translation.Get("Registreringsdatum", Enums.TranslationSource.TextTranslation)
                                </td>
                                <td>
                                    [#16]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Translation.Get("Senast uppdaterad av", Enums.TranslationSource.TextTranslation)
                                </td>
                                <td>
                                    [#22]
                                </td>
                            </tr>
                            <tr>   
                                <th colspan="2">
                                    @Translation.Get("Användarinformation", Enums.TranslationSource.TextTranslation)
                                </th>
                             </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Persons_Name.ToString())
                                </td>
                                <td>
                                    [#3]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Persons_EMail.ToString())
                                </td>
                                <td>
                                    [#8]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Persons_Phone.ToString())
                                </td>
                                <td>
                                    [#9]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Persons_CellPhone.ToString())
                                </td>
                                <td>
                                    [#18]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Customer_Id.ToString())
                                </td>
                                <td>
                                    [#2]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Place.ToString())
                                </td>
                                <td>
                                    [#24]
                                </td>
                            </tr>
                            <tr>   
                                <th colspan="2">
                                    @Translation.Get("Datorinformation", Enums.TranslationSource.TextTranslation)
                                </th>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.InventoryNumber.ToString())
                                </td>
                                <td>
                                    [#17]
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    @Translation.Get("Ärendeinformation", Enums.TranslationSource.TextTranslation)
                                </th>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.CaseType_Id.ToString())
                                </td>
                                <td>
                                    [#25]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Category_Id.ToString())
                                </td>
                                <td>
                                    [#26]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Caption.ToString())
                                </td>
                                <td>
                                    [#4]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Description.ToString())
                                </td>
                                <td>
                                    [#5]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Miscellaneous.ToString())
                                </td>
                                <td>
                                    [#23]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Available.ToString())
                                </td>
                                <td>
                                    [#19]
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    @Translation.Get("Övrigt", Enums.TranslationSource.TextTranslation)
                                </th>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.WorkingGroup_Id.ToString())
                                </td>
                                <td>
                                    [#15]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.WorkingGroup_Id.ToString()):@Translation.Get("E-post", Enums.TranslationSource.TextTranslation)
                                </td>
                                <td>
                                    [#13]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString()):@Translation.Get("Förnamn", Enums.TranslationSource.TextTranslation)
                                </td>
                                <td>
                                    [#6]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString()):@Translation.Get("Efternamn", Enums.TranslationSource.TextTranslation)
                                </td>
                                <td>
                                    [#7]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Priority_Id.ToString())
                                </td>
                                <td>
                                    [#12]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Priority_Id.ToString()) @Translation.Get("Beskrivning", Enums.TranslationSource.TextTranslation)
                                </td>
                                <td>
                                    [#20]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.WatchDate.ToString())
                                </td>
                                <td>
                                    [#21]
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">
                                    @Translation.Get("Ärendelogg", Enums.TranslationSource.TextTranslation)
                                </th>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.tblLog_Text_External.ToString())
                                </td>
                                <td>
                                    [#10]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.tblLog_Text_Internal.ToString())
                                </td>
                                <td>
                                    [#11]
                                </td>
                            </tr>
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 4 || Model.MailTemplateLanguage.MailTemplate.MailID == 5)
                                {
                                    <tr>
                                        <td>
                                           @Translation.Get("Bifogad fil", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            [#14]
                                        </td>
                                    </tr>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 11)
                                {
                                    <tr>
                                        <td>
                                           @Translation.Get("Hyperlänk", Enums.TranslationSource.TextTranslation) @Translation.Get("Enkät", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            [#99]
                                        </td>
                                    
                                     </tr>
                                }else
                                {
                                    <tr>
                                        <td>
                                           @Translation.Get("Hyperlänk", Enums.TranslationSource.TextTranslation) @Translation.Get("Ärende", Enums.TranslationSource.TextTranslation)
                                        </td>
                                        <td>
                                            [#99]
                                        </td>
                                    
                                     </tr>
                                }
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID > 39 && Model.MailTemplateLanguage.MailTemplate.MailID < 50)
                            {
                                foreach (var item in Model.OrderFieldSettings)
                                {
                                     
                                           if (item.OrderField == "User_Id")
                                           {
                                               <tr>
                                                    <td>
                                                        @Translation.Get("Användare", Enums.TranslationSource.TextTranslation)
                                                    </td>
                                                    <td>
                                                        @item.EMailIdentifier
                                                    </td>
                                               </tr>
                                           }
                                        
                                 }
                            }
                            
                        </table>
                        @Html.HiddenFor(model => model.MailTemplateLanguage.Language_Id)
                        @Html.HiddenFor(model => model.MailTemplateLanguage.MailTemplate_Id)
                        @Html.HiddenFor(model => model.MailTemplate)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
