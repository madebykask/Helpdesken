@using DH.Helpdesk.Web.Infrastructure.Extensions
@using DH.Helpdesk.BusinessData.OldComponents
@using DH.Helpdesk.Web.Models.Questionnaire.Output
@model DH.Helpdesk.Web.Areas.Admin.Models.MailTemplateInputViewModel
@if (TempData["Error"] != null)
{
    <div class="alert alert-error">@Translation.GetCoreTextTranslation("E-post mall")
        @Translation.GetCoreTextTranslation("som används går inte att ta bort")
    </div>
}
<div class="content">
    <div class="container">
        <ul class="nav nav-tabs" id="myTab">
            <li class="active"><a href="#fragment-1">@Translation.GetCoreTextTranslation("E-post mall") - @Model.Customer.Name</a></li>
        </ul>
        <input type="hidden" id="customerId" name="customerId" value="@Model.Customer.Id" />
        <input type="hidden" id="mailTemplateId" name="mailTemplateId" value="@Model.MailTemplateLanguage.MailTemplate_Id" />
        <div class="tab-content">
            <div class="tab-pane tab-pane-border active" id="fragment1">
                <div class="container">
                    <div class="row">
                        <div class="span12">
                        <table class="tableform">
                        @{ var mailTemplatesHasSendMethod = new[]
                                 {
                               GlobalEnums.MailTemplates.NewCase,
                               GlobalEnums.MailTemplates.ClosedCase,
                               GlobalEnums.MailTemplates.InformNotifier,
                               GlobalEnums.MailTemplates.InternalLogNote,
                               GlobalEnums.MailTemplates.ReminderTo
                           };
                         }
                            <tr>
                                <td class="span3">
                                    @Translation.GetCoreTextTranslation("Skicka metod")
                                </td>
                                <td>
                                    @if (mailTemplatesHasSendMethod.Contains((GlobalEnums.MailTemplates)Model.MailTemplateLanguage.MailTemplate.MailID) ||
                                         Model.MailTemplateLanguage.MailTemplate.MailID > 100 || Model.MailTemplateLanguage.MailTemplate.MailID == 18)
                                    {
                                        @Html.DropDownListFor(model => model.MailTemplateLanguage.MailTemplate.SendMethod, Model.SendMethods,
                                            new { id = "sendMethod" })
                                    }
                                    else
                                    {
                                        @Html.DropDownListFor(model => model.MailTemplateLanguage.MailTemplate.SendMethod, Model.SendMethods,
                                            new { id = "sendMethod", @disabled = "" })
                                    }
                                    @if (Model.MailTemplateLanguage.MailTemplate.MailID == 4 || Model.MailTemplateLanguage.MailTemplate.MailID == 3)
                                    {
                                        @Html.CheckBoxFor(model => model.MailTemplateLanguage.MailTemplate.IncludeLogText_External, new { style = "margin:5px;" }) @Translation.GetCoreTextTranslation("Inkludera full historik")
                                    }
                                </td>
                            </tr>
                        <tr>
                            <td class="span3">
                                @Translation.GetCoreTextTranslation("Språk")
                            </td>
                            <td>
                                @Html.DropDownListFor(model => Model.MailTemplateLanguage.Language_Id, Model.Languages,
                                    new {id = "LanguageId"})
                            </td>
                        </tr>
                        @if (Model.MailTemplateLanguage.MailTemplate_Id != 0)
                        {
                            <tr>
                                <td>
                                    @Translation.GetCoreTextTranslation("E-post mall")
                                </td>
                                @*if (Model.MailTemplateLanguage.MailTemplateName == "" || Model.MailTemplateLanguage.MailTemplateName == null)*@
                                @if (Model.MailTemplateLanguage.MailTemplate != null && Model.MailTemplateLanguage.MailTemplate.IsStandard == 1)
                                {
                                    <td>
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 1)
                                        {
                                            @Translation.GetCoreTextTranslation("Nytt ärende")
                                        }

                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 2)
                                        {
                                            @Translation.GetCoreTextTranslation("Tilldelat ärende")
                                            @Translation.GetCoreTextTranslation("Handläggare")
                                        }

                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase)
                                        {
                                            @Translation.GetCoreTextTranslation("Ärendet avslutat")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 4)
                                        {
                                            @Translation.GetCoreTextTranslation("Informera anmälaren om åtgärden")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 5)
                                        {
                                            @Translation.GetCoreTextTranslation("Skicka intern loggpost till")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 6)
                                        {
                                            @Translation.GetCoreTextTranslation("Enkät")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 7)
                                        {
                                            @Translation.GetCoreTextTranslation("Tilldelat ärende")
                                            @Translation.GetCoreTextTranslation("Driftgrupp")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 9)
                                        {
                                            @Translation.GetCoreTextTranslation("Bevakningsdatum inträffar")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 10)
                                        {
                                            @Translation.GetCoreTextTranslation("Anmälaren uppdaterat ärende")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 11)
                                        {
                                            @Translation.GetCoreTextTranslation("SMS")
                                            @Translation.GetCoreTextTranslation("Tilldelat ärende")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 12)
                                        {
                                            @Translation.GetCoreTextTranslation("Skicka mail när planerat åtgärdsdatum inträffar")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 13)
                                        {
                                            @Translation.GetCoreTextTranslation("Prioritet")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 14)
                                        {
                                            @Translation.GetCoreTextTranslation("SMS")
                                            @Translation.GetCoreTextTranslation("Ärendet avslutat")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 15)
                                        {
                                            @Translation.GetCoreTextTranslation("Anmälaren aktiverat ärende")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 16)
                                        {
                                            @Translation.GetCoreTextTranslation("Påminnelse")
                                            @Translation.GetCoreTextTranslation("Enkät")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 18)
                                        {
                                            @Translation.GetCoreTextTranslation("Sammanfogat ärende")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 40)
                                        {
                                            @Translation.GetCoreTextTranslation("Beställning")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 50)
                                        {
                                            @Translation.GetCoreTextTranslation("Tilldelad ändring")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 51)
                                        {
                                            @Translation.GetCoreTextTranslation("Skicka loggpost till")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 52)
                                        {
                                            @Translation.GetCoreTextTranslation("CAB")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 53)
                                        {
                                            @Translation.GetCoreTextTranslation("PIR")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 54)
                                        {
                                            @Translation.GetCoreTextTranslation("Statusändring")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 55)
                                        {
                                            @Translation.GetCoreTextTranslation("Ändring")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 60)
                                        {
                                            @Translation.GetCoreTextTranslation("Driftlogg")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 70)
                                        {
                                            @Translation.GetCoreTextTranslation("Beställning kontobehörighet")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate_Id == 270)
                                        {
                                            @Translation.GetCoreTextTranslation("Beställning kontobehörighet")
                                        }
                                        @if (Model.MailTemplateLanguage.MailTemplate.MailID == 272)
                                        {
                                            @Translation.GetCoreTextTranslation("Beställning kontobehörighet")
                                        }
                                    </td>
                                }
                                else
                                {
                                    <td>
                                        @Html.TextBoxFor(model => model.MailTemplateLanguage.MailTemplateName, new {maxlength = "50",})
                                    </td>
                                }
                            </tr>
                            <tr>
                                <td>
                                    @Translation.GetCoreTextTranslation("Ämne")
                                </td>
                                <td>
                                    @Html.TextBoxFor(model => Model.MailTemplateLanguage.Subject, new {maxlength = "50",})
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Translation.GetCoreTextTranslation("Text")
                                </td>
                                <td>
                                    @Html.TextAreaFor(model => Model.MailTemplateLanguage.Body, new {style = "width:600px; height:125px;", maxlength = "3700"})
                                </td>
                            </tr>
                        }
                        else
                        {
                        <tr>
                            <td>
                                @Translation.GetCoreTextTranslation("E-post mall")
                            </td>
                            @if (Model.MailTemplateLanguage.MailTemplateName == "" || Model.MailTemplateLanguage.MailTemplateName == null)
                            {
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 1)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Nytt ärende")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 2)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Tilldelat ärende") @Translation.GetCoreTextTranslation("Handläggare")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Ärendet avslutat")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 4)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Informera anmälaren om åtgärden")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 5)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Skicka intern loggpost till")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 6)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Enkät")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 7)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Tilldelat ärende") @Translation.GetCoreTextTranslation("Driftgrupp")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 9)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Bevakningsdatum inträffar")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 10)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Anmälaren uppdaterat ärende")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 11)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("SMS") @Translation.GetCoreTextTranslation("Tilldelat ärende")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 12)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Skicka mail när planerat åtgärdsdatum inträffar")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 13)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Prioritet")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 14)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("SMS") @Translation.GetCoreTextTranslation("Ärendet avslutat")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 15)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Anmälaren aktiverat ärende")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 16)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Påminnelse") @Translation.GetCoreTextTranslation("Enkät")
                                    </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 18)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Sammanfogat ärende")
                                     </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 60)
                                {
                                    <td>
                                        @Translation.GetCoreTextTranslation("Driftlogg")
                                    </td>
                                    }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 50)
                                {
                                <td>
                                    @Translation.GetCoreTextTranslation("Tilldelad ändring")
                                </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 51)
                                {
                                <td>
                                    @Translation.GetCoreTextTranslation("Skicka loggpost till")
                                </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 52)
                                {
                                <td>
                                    @Translation.GetCoreTextTranslation("CAB")
                                </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 53)
                                {
                                <td>
                                    @Translation.GetCoreTextTranslation("PIR")
                                </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 54)
                                {
                                <td>
                                    @Translation.GetCoreTextTranslation("Statusändring")
                                </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 55)
                                {
                                <td>
                                    @Translation.GetCoreTextTranslation("Ändring")
                                </td>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID >= 99)
                                {
                                <td>
                                    @Html.TextBoxFor(model => model.MailTemplateLanguage.MailTemplateName, new { maxlength = "50", })
                                </td>
                                }
                                }
                                else
                                {
                                <td>
                                    @Html.TextBoxFor(model => model.MailTemplateLanguage.MailTemplateName, new { maxlength = "50", })
                                </td>
                                }
                                </tr>
                            <tr>
                                <td>
                                    @Translation.GetCoreTextTranslation("Ämne")
                                </td>
                                <td>
                                    @Html.TextBoxFor(model => Model.MailTemplateLanguage.Subject, new {maxlength = "50",})
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @Translation.GetCoreTextTranslation("Text")
                                </td>
                                <td>
                                    @Html.TextAreaFor(model => Model.MailTemplateLanguage.Body, new {style = "width:600px; height:125px;", maxlength = "3700" })
                                </td>
                            </tr>
                        }
                        </table>
                        </div>
                    </div>
                    <div class="container">
                        <table class="table table-striped table-bordered table-hover" style="width: 900px">
                            <thead>
                                <tr>
                                    <th>
                                        @Translation.GetCoreTextTranslation("Fält")
                                    </th>
                                    <th>
                                        @Translation.GetCoreTextTranslation("Identifierare")
                                    </th>
                                </tr>
                            </thead>

                            @if (Model.MailTemplateLanguage.MailTemplate.MailID != 8 && (Model.MailTemplateLanguage.MailTemplate.MailID < 40 || Model.MailTemplateLanguage.MailTemplate.MailID > 99))
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Allmänt")
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Ärende")
                                    </td>
                                    <td>
                                        [#1]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Registreringsdatum")
                                    </td>
                                    <td>
                                        [#16]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Registrerad av")
                                    </td>
                                    <td>
                                        [#29]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Senast uppdaterad av")
                                    </td>
                                    <td>
                                        [#22]
                                    </td>
                                </tr>
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 17)
                                {
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Auto avslut") @Translation.GetCoreTextTranslation("Dagar")
                                        </td>
                                        <td>
                                            [#80]
                                        </td>
                                    </tr>
                                }
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Användarinformation")
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_Name.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_EMail.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_Phone.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Persons_CellPhone.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Customer_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Place.ToString() });
                                if (Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.InventoryNumber.ToString() }) == null)
                                {
                                    <tr>
                                        <th colspan="2">
                                            @Translation.GetCoreTextTranslation("Datorinformation")
                                        </th>
                                    </tr>
                                }
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.InventoryNumber.ToString() });
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Ärendeinformation")
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.CaseType_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Category_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Caption.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.ProductArea_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Description.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Miscellaneous.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Available.ToString() });
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Övrigt")
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.WorkingGroup_Id.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.WorkingGroup_Id.ToString(), Extralabel = "E-post", EMailIdentifier = "[#13]" });

                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString(), Extralabel = "Förnamn", EMailIdentifier = "[#6]" });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString(), Extralabel = "Efternamn", EMailIdentifier = "[#7]" });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString(), Extralabel = "Telefon", EMailIdentifier = "[#70]" });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString(), Extralabel = "Mobil", EMailIdentifier = "[#71]" });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Performer_User_Id.ToString(), Extralabel = "E-post", EMailIdentifier = "[#72]" });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.Priority_Id.ToString() });
                                <tr>
                                    <td>
                                        @Model.CaseFieldSettingWithLangauges.getLabel(GlobalEnums.TranslationCaseFields.Priority_Id.ToString()) @Translation.GetCoreTextTranslation("Beskrivning")
                                    </td>
                                    <td>
                                        [#20]
                                    </td>
                                </tr>

                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.WatchDate.ToString() });

                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Ärendelogg")
                                    </th>
                                </tr>
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.tblLog_Text_External.ToString() });
                                @Html.Action("MailTemplateFieldIdentifierRow", new { customerId = Model.Customer.Id, mailTemplateRowName = GlobalEnums.TranslationCaseFields.tblLog_Text_Internal.ToString() });

                                if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.InformNotifier ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.InternalLogNote ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.NewCase ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase ||
                                    Model.MailTemplateLanguage.MailTemplate.MailID > 99)
                                {
                                    <tr>
                                        <td>@Translation.GetCoreTextTranslation("Bifogad fil")</td>
                                        <td>[#14]</td>
                                    </tr>
                                    <tr>
                                        <td>@Translation.GetCoreTextTranslation("Intern bifogad fil")</td>
                                        <td>[#30]</td>
                                    </tr>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 11)
                                {
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Hyperlänk") @Translation.GetCoreTextTranslation("Enkät")
                                        </td>
                                        <td>
                                            [#99]
                                        </td>

                                    </tr>
                                }
                                else
                                {
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Hyperlänk") @Translation.GetCoreTextTranslation("till") @Translation.GetCoreTextTranslation("Självservice")
                                        </td>
                                        <td>
                                            [#98]
                                        </td>

                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Hyperlänk") @Translation.GetCoreTextTranslation("till") @Translation.GetCoreTextTranslation("Handläggare")
                                        </td>
                                        <td>
                                            [#99]
                                        </td>

                                    </tr>
                                }
                                if (Model.MailTemplateLanguage.MailTemplate.MailID == 18)
                                {
                                    <tr>
                                        <th colspan="2">
                                            @Translation.GetCoreTextTranslation("Sammanfogat ärende") @Translation.GetCoreTextTranslation("Allmänt")
                                        </th>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Sammanfogat ärende") @Translation.GetCoreTextTranslation("till")
                                        </td>
                                        <td>
                                            [#MP1]
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Registreringsdatum")
                                        </td>
                                        <td>
                                            [#MP16]
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Registrerad av")
                                        </td>
                                        <td>
                                            [#MP29]
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Hyperlänk") @Translation.GetCoreTextTranslation("till") @Translation.GetCoreTextTranslation("Självservice")
                                        </td>
                                        <td>
                                            [#MP98]
                                        </td>
                                    </tr>
                                    <tr>
                                        <th colspan="2">
                                            @Translation.GetCoreTextTranslation("Sammanfogat ärende") @Translation.GetCoreTextTranslation("Användarinformation")
                                        </th>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Namn")
                                        </td>
                                        <td>
                                            [#MP3]
                                        </td>
                                    </tr>
                                    <tr>
                                        <th colspan="2">
                                            @Translation.GetCoreTextTranslation("Sammanfogat ärende") @Translation.GetCoreTextTranslation("Ärendeinformation")
                                        </th>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Rubrik")
                                        </td>
                                        <td>
                                            [#MP4]
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            @Translation.GetCoreTextTranslation("Beskrivning")
                                        </td>
                                        <td>
                                            [#MP5]
                                        </td>
                                    </tr>
                                }
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID > 39 && Model.MailTemplateLanguage.MailTemplate.MailID < 50)
                            {
                                foreach (var item in Model.OrderFieldSettings)
                                {
                                    if (item.OrderField != "Program")
                                    {
                                        <tr>
                                            <th colspan="2">
                                                @if (item.OrderField == "Customer_Id")
                                                {
                                                    @Translation.GetCoreTextTranslation("Allmänt")
                                                }
                                                else if (item.OrderField == "User_Id")
                                                {
                                                    @Translation.GetCoreTextTranslation("Användare")
                                                }
                                                else if (item.OrderField == "OrdererID")
                                                {
                                                    @Translation.GetCoreTextTranslation("Beställare")
                                                }
                                                else if (item.OrderField == "OrderProperty_Id")
                                                {
                                                    @Translation.GetCoreTextTranslation("Beställning")
                                                }
                                                else if (item.OrderField == "ReceiverId")
                                                {
                                                    @Translation.GetCoreTextTranslation("Mottagare")
                                                }
                                                else if (item.OrderField == "SupplierOrderNumber")
                                                {
                                                    @Translation.GetCoreTextTranslation("Orderinformation")
                                                }
                                                else if (item.OrderField == "DeliveryDate")
                                                {
                                                    @Translation.GetCoreTextTranslation("Leveransinformation")
                                                }
                                                else if (item.OrderField == "Program")
                                                {
                                                    @Translation.GetCoreTextTranslation("Program")
                                                }
                                                else if (item.OrderField == "Filename")
                                                {
                                                    @Translation.GetCoreTextTranslation("Övrigt")
                                                }

                                            </th>

                                        </tr>
                                        <tr>
                                            <td>
                                                @item.Label
                                            </td>
                                            <td>
                                                @item.EMailIdentifier
                                            </td>
                                        </tr>
                                    }
                                }
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID == 70)
                            {
                                foreach (var item in Model.AccountFieldSettings)
                                {
                                    if (item.AccountField != "Program")
                                    {
                                        <tr>
                                            <th colspan="2">
                                                @if (item.AccountField == "Customer_Id")
                                                {
                                                    @Translation.GetCoreTextTranslation("Allmänt")
                                                }
                                                else if (item.AccountField == "UserId")
                                                {
                                                    @Translation.GetCoreTextTranslation("Användarinformation")
                                                }
                                                else if (item.AccountField == "OrdererID")
                                                {
                                                    @Translation.GetCoreTextTranslation("Beställare")
                                                }
                                                else if (item.AccountField == "AccountStartDate")
                                                {
                                                    @Translation.GetCoreTextTranslation("Kontoinformation")
                                                }
                                                else if (item.AccountField == "ContactId")
                                                {
                                                    @Translation.GetCoreTextTranslation("Kontakt")
                                                }
                                                else if (item.AccountField == "DeliveryName")
                                                {
                                                    @Translation.GetCoreTextTranslation("Leveransinformation")
                                                }
                                                else if (item.AccountField == "Program")
                                                {
                                                    @Translation.GetCoreTextTranslation("Program")
                                                }
                                                else if (item.AccountField == "CaseNumber")
                                                {
                                                    @Translation.GetCoreTextTranslation("Övrigt")
                                                }
                                            </th>

                                        </tr>
                                        <tr>
                                            <td>
                                                @item.Label
                                            </td>
                                            <td>
                                                @item.EMailIdentifier
                                            </td>
                                        </tr>
                                    }
                                }
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID > 59 && Model.MailTemplateLanguage.MailTemplate.MailID < 69)
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Driftlogg")
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Driftsobjekt")
                                    </td>
                                    <td>
                                        [#1]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Kategori")
                                    </td>
                                    <td>
                                        [#2]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Beskrivning")
                                    </td>
                                    <td>
                                        [#3]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Åtgärd")
                                    </td>
                                    <td>
                                        [#4]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Tidsåtgång")
                                    </td>
                                    <td>
                                        [#5]
                                    </td>
                                </tr>
                            }
                            else if (Model.MailTemplateLanguage.MailTemplate.MailID > 49 && Model.MailTemplateLanguage.MailTemplate.MailID < 60)
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Allmänt")
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Change")
                                    </td>
                                    <td>
                                        [#3]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Customer")
                                    </td>
                                    <td>
                                        [#4]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("ID")
                                    </td>
                                    <td>
                                        [#50]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Namn")
                                    </td>
                                    <td>
                                        [#27]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Telefon")
                                    </td>
                                    <td>
                                        [#28]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Mobil")
                                    </td>
                                    <td>
                                        [#51]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("E-post")
                                    </td>
                                    <td>
                                        [#29]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Avdelning")
                                    </td>
                                    <td>
                                        [#52]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Prioritering")
                                    </td>
                                    <td>
                                        [#2]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Titel")
                                    </td>
                                    <td>
                                        [#5]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Status")
                                    </td>
                                    <td>
                                        [#1]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("System")
                                    </td>
                                    <td>
                                        [#30]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Objekt")
                                    </td>
                                    <td>
                                        [#6]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Inventarie")
                                    </td>
                                    <td>
                                        [#55]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Ägare")
                                    </td>
                                    <td>
                                        [#7]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Driftgrupp")
                                    </td>
                                    <td>
                                        [#34]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Ansvarig")
                                    </td>
                                    <td>
                                        [#13]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Closing Date")
                                    </td>
                                    <td>
                                        [#64]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Namn")
                                    </td>
                                    <td>
                                        [#60]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Telefon")
                                    </td>
                                    <td>
                                        [#61]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("E-post")
                                    </td>
                                    <td>
                                        [#62]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Företag")
                                    </td>
                                    <td>
                                        [#63]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Beskrivning")
                                    </td>
                                    <td>
                                        [#9]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Affärsnytta")
                                    </td>
                                    <td>
                                        [#10]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Konsekvens")
                                    </td>
                                    <td>
                                        [#33]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Påverkan")
                                    </td>
                                    <td>
                                        [#47]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Önskas infört")
                                    </td>
                                    <td>
                                        [#31]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Verifierad")
                                    </td>
                                    <td>
                                        [#14]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Godkännade")
                                    </td>
                                    <td>
                                        [#46]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Förklaring")
                                    </td>
                                    <td>
                                        [#50]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Kategori")
                                    </td>
                                    <td>
                                        [#32]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Prioritet")
                                    </td>
                                    <td>
                                        [#11]
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Analys")
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Analyst")
                                    </td>
                                    <td>
                                        [#15]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Lösning")
                                    </td>
                                    <td>
                                        [#16]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Kostnad")
                                    </td>
                                    <td>
                                        [#17]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Årlig kostnad")
                                    </td>
                                    <td>
                                        [#18]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Tidsuppskattning timmar")
                                    </td>
                                    <td>
                                        [#22]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Risk")
                                    </td>
                                    <td>
                                        [#48]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Start genomförande")
                                    </td>
                                    <td>
                                        [#19]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Slutdatum")
                                    </td>
                                    <td>
                                        [#20]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Implementationsplan framtagen")
                                    </td>
                                    <td>
                                        [#35]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Återställningsplan framtagen")
                                    </td>
                                    <td>
                                        [#36]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("CAB Rekommendation")
                                    </td>
                                    <td>
                                        [#45]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Logg")
                                    </td>
                                    <td>
                                        [#56]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Godkännande")
                                    </td>
                                    <td>
                                        [#49]
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Implementation")
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Status implementation")
                                    </td>
                                    <td>
                                        [#21]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Verkligt startdatum")
                                    </td>
                                    <td>
                                        [#24]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Bygg och test genomförd")
                                    </td>
                                    <td>
                                        [#40]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Implementationsplan använd")
                                    </td>
                                    <td>
                                        [#39]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Avvikelse")
                                    </td>
                                    <td>
                                        [#41]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Återställningsplan använd")
                                    </td>
                                    <td>
                                        [#38]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Closing Date")
                                    </td>
                                    <td>
                                        [#23]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Logg")
                                    </td>
                                    <td>
                                        [#57]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Implementation klar")
                                    </td>
                                    <td>
                                        [#53]
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Utvärdering")
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Utvärdering")
                                    </td>
                                    <td>
                                        [#43]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Logg")
                                    </td>
                                    <td>
                                        [#58]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Utvärdering klar")
                                    </td>
                                    <td>
                                        [#54]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @Translation.GetCoreTextTranslation("Logg")
                                    </td>
                                    <td>
                                        [#59]
                                    </td>
                                </tr>
                            }
                            @if (Model.MailTemplateLanguage.MailTemplate.MailID == (int)GlobalEnums.MailTemplates.ClosedCase)
                            {
                                <tr>
                                    <th colspan="2">
                                        @Translation.GetCoreTextTranslation("Återkoppling")
                                    </th>
                                </tr>
                                foreach (var feedback in (List<FeedbackOverviewModel>)ViewBag.Feedbacks)
                                {
                                    <tr>
                                        <td>
                                            @feedback.Name
                                        </td>
                                        <td>
                                            [@feedback.Identifier]
                                        </td>
                                    </tr>
                                }
                            }
                            @*
            COMMENTED OUT BECAUSE THIS MODULE IS NOT YET FINISHED
        <tr>
            <th colspan="2">@Translation.GetCoreTextTranslation("Snabbenkät")
            </th>
        </tr>
            <tr>
                <td>@Translation.GetCoreTextTranslation("Snabbenkät")
                </td>
                <td>[#777]
                </td>
            </tr>*@
                        </table>


                        @Html.HiddenFor(model => model.MailTemplateLanguage.Language_Id)
                        @Html.HiddenFor(model => model.MailTemplateLanguage.MailTemplate_Id)
                        @Html.HiddenFor(model => model.MailTemplate)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $("#LanguageId").change(function () {
        changeLanguageList(this.options[this.selectedIndex].value);
    });
</script>
